{"version":3,"sources":["webpack:///./app/actions/high-scores.ts","webpack:///./app/constants/palette.ts","webpack:///./app/reducers/high-score.ts","webpack:///./app/components/Container/index.tsx","webpack:///./app/index.tsx","webpack:///./app/containers/Home/index.tsx","webpack:///./app/components/Tray/refresh.png","webpack:///./app/components/Tray/erase.png","webpack:///./app/containers/HighScores/index.tsx","webpack:///./app/components/Background/index.tsx","webpack:///./app/components/GameGrid/styled.tsx","webpack:///./app/components/GameGrid/index.tsx","webpack:///./app/components/Hud/styled.tsx","webpack:///./app/components/Hud/index.tsx","webpack:///./app/components/Tray/index.tsx","webpack:///./app/components/HighScore/styled.tsx","webpack:///./app/components/HighScore/index.tsx","webpack:///./app/components/GameOver/index.tsx","webpack:///./app/containers/Game/index.tsx","webpack:///./app/components/ThemeSelector/index.tsx","webpack:///./app/containers/Settings/index.tsx","webpack:///./app/actions/settings.ts","webpack:///./app/middleware/logger.ts","webpack:///./app/reducers/game-helpers.ts","webpack:///./app/reducers/game.ts","webpack:///./app/reducers/settings.ts","webpack:///./app/reducers/index.ts","webpack:///./app/actions/initialize.ts","webpack:///./app/store/index.ts","webpack:///./main.tsx","webpack:///./app/actions/game.ts"],"names":["HighScoreActions","Type","loadHighScores","dispatch","__awaiter","_this","Promise","resolve","type","LOAD_HIGHSCORES","addHighScore","score","time","initials","ADD_HIGHSCORE","payload","Object","connected_react_router__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","d","__webpack_exports__","PALETTES","vapor","phantom","highScoreReducer","checkScore","app_actions_high_scores__WEBPACK_IMPORTED_MODULE_0__","state","action","ls","localStorage","getItem","JSON","parse","e","newScore","newHighScores","concat","sort","highScoreComparator","slice","HIGH_SCORES_LENGTH","setItem","stringify","a","b","highScores","elapsed","_hs","length","Container","div","templateObject_1","__makeTemplateObject","module","App","react__WEBPACK_IMPORTED_MODULE_0__","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","react_hot_loader__WEBPACK_IMPORTED_MODULE_3__","react_pose__WEBPACK_IMPORTED_MODULE_4__","react_starfield_animation__WEBPACK_IMPORTED_MODULE_5__","app_containers_Home__WEBPACK_IMPORTED_MODULE_6__","app_containers_Game__WEBPACK_IMPORTED_MODULE_7__","app_containers_Settings__WEBPACK_IMPORTED_MODULE_8__","app_containers_HighScores__WEBPACK_IMPORTED_MODULE_9__","app_components_Background__WEBPACK_IMPORTED_MODULE_10__","chroma_js__WEBPACK_IMPORTED_MODULE_11__","color","game","background","_a","style","position","width","height","zIndex","darken","hex","key","exact","path","component","HomeButton","styled_components__WEBPACK_IMPORTED_MODULE_6__","Home","_super","__extends","prototype","render","newGame","this","props","actions","app_components_Container__WEBPACK_IMPORTED_MODULE_5__","display","justifyContent","id","onClick","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","to","marginRight","marginLeft","__decorate","redux__WEBPACK_IMPORTED_MODULE_1__","app_actions_game__WEBPACK_IMPORTED_MODULE_4__","exports","ScoresContainer","styled_components__WEBPACK_IMPORTED_MODULE_4__","Score","react_pose__WEBPACK_IMPORTED_MODULE_3__","li","preenter","opacity","x","enter","delay","HighScores","goHome","animateOnMount","preEnterPose","map","highScore","idx","toUpperCase","marginTop","textAlign","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux__WEBPACK_IMPORTED_MODULE_2__","app_actions_game__WEBPACK_IMPORTED_MODULE_5__","Background","styled_components__WEBPACK_IMPORTED_MODULE_1__","react_pose__WEBPACK_IMPORTED_MODULE_0__","transition","default","ease","duration","GridContainer","styled_components_browser_esm","react_pose_es","exit","lost","FlexRow","templateObject_2","Cell","pressable","init","scale","press","templateObject_3","GameGrid","grid","clickPanel","_b","answer","react","row","i","j","join","HighScoreContainer","styled_templateObject_1","styled_makeTemplateObject","TimerContainer","styled_templateObject_2","Inner","styled_templateObject_3","Hud_Hud","Hud","componentDidMount","timer","setInterval","forceUpdate","componentWillUnmount","clearInterval","starttime","Math","floor","Date","now","FitText_default","compressor","TrayContainer","Tray_templateObject_1","Tray_makeTemplateObject","components_Tray","src","erase_default","alt","preventDefault","refresh_default","HighScoreHeader","HighScore_styled_templateObject_1","HighScore_styled_makeTemplateObject","charPoses","y","charIndex","random","flip","HighScoreBanner","react_pose_text_es","initialPose","pose","HighScoreInput","HighScore_styled_templateObject_2","Input","input","attrs","size","maxLength","autoFocus","placeholder","HighScore_styled_templateObject_3","components_HighScore","onKeyDown","target","value","components_GameOver","GameOver_templateObject_1","GameOver_makeTemplateObject","Game_Game","Game","call","started","Game_extends","startTime","outcome","es","level","redux","high_scores","themes","keys","palette","ThemeSelector","theme","setBackground","marginBottom","alignItems","float","paddingTop","indexOf","targetTheme","console","log","Settings_Settings","Settings","SettingsActions","logger","store","next","getRandom","max","generateLevel","previousColor","_PALETTE","filter","baseColor","alternateColor","chroma","saturate","Array","fill","_","idy","generateGrid","game_initialState","gameReducer","PALETTE","NEW_GAME","__assign","round","getTime","CLICK_PANEL","c","SET_BACKGROUND","bgColor","SET_OUTCOME","loadSettings","LOAD_SETTINGS","toggleSetting","setting","TOGGLE_SETTING","setSetting","SET_SETTING","settings_initialState","music","effects","settingsReducer","newSettings","settings_assign","rootReducer","history","router","esm","high_score","settings","actions_initialize","store_history","history_es","initialState","middleware","main_store","esm_middleware","redux_thunk_es","react_dom","app","document","getElementById","GameActions","setOutcome","getState","setTimeout","app_reducers_high_score__WEBPACK_IMPORTED_MODULE_1__"],"mappings":"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","file":"app.8cadffa5c82f9efe0ca5.js","sourcesContent":["import { AnyAction } from 'redux'\nimport { ThunkAction, ThunkDispatch } from 'redux-thunk'\nimport { push } from 'connected-react-router'\n\nexport namespace HighScoreActions {\n  export enum Type {\n    LOAD_HIGHSCORES = 'LOAD_HIGHSCORES',\n    ADD_HIGHSCORE = 'ADD_HIGHSCORE'\n  }\n\n  export const loadHighScores = (): ThunkAction<Promise<void>, {}, {}, AnyAction> =>\n    async (dispatch: ThunkDispatch<{}, {}, AnyAction>): Promise<void> => new Promise<void>(\n      (resolve) => {\n        dispatch({ type: Type.LOAD_HIGHSCORES })\n        resolve();\n      }\n    )\n\n  export const addHighScore = (score: number, time: number, initials: string ): ThunkAction<Promise<void>, {}, {}, AnyAction> =>\n    async (dispatch: ThunkDispatch<{}, {}, AnyAction>): Promise<void> => new Promise<void>(\n      (resolve) => {\n        dispatch({\n          type: Type.ADD_HIGHSCORE,\n          payload: {\n            score: score,\n            time: time,\n            initials: initials\n          }\n        })\n        dispatch(push('/high-scores'))\n        resolve();\n      }\n    )\n  }\n\nexport type HighScoreActions = Omit<typeof HighScoreActions, 'Type'>\n","export const PALETTE2 = [\n  '#ff71ce',\n  '#01cdfe',\n  '#05ffa1',\n  '#b967ff',\n  '#fffb96'\n]\n\nexport const PALETTE = [\n  '#135589',\n  '#272930',\n  '#3ddad7',\n  '#d1d3cf',\n  '#198967'\n]\n\ninterface PALETTES {\n  [key: string]: string[];\n}\n\nexport type Theme = 'vapor' | 'phantom'\n\nexport const PALETTES = {\n  vapor: [ '#ff71ce', '#01cdfe', '#05ffa1', '#b967ff', '#fffb96' ],\n  phantom: [ '#135589', '#272930', '#3ddad7', '#d1d3cf', '#198967' ]\n}\n","import { HighScoreActions } from 'app/actions/high-scores';\n\nconst HIGH_SCORES_LENGTH = 10;\n\nexport const highScoreReducer = (state = [], action: any) => {\n  switch (action.type) {\n    case HighScoreActions.Type.LOAD_HIGHSCORES:\n      const ls = localStorage.getItem('high-scores');\n      if (ls) {\n        try {\n          return JSON.parse(ls)\n        } catch (e) { }\n      }\n      return [];\n\n    case HighScoreActions.Type.ADD_HIGHSCORE:\n      const newScore = {\n        initials: action.payload.initials,\n        score: action.payload.score,\n        time: action.payload.time\n      }\n      const newHighScores = [...state, newScore].sort(highScoreComparator).slice(0, HIGH_SCORES_LENGTH - 1)\n      localStorage.setItem('high-scores', JSON.stringify(newHighScores))\n      return newHighScores;\n\n    default:\n      return state;\n  }\n}\n\nconst highScoreComparator = (a:any, b:any) => {\n  if (a.score < b.score) return 1;\n  if (a.score > b.score) return -1;\n  if (a.time > b.time) return 1;\n  if (a.time < b.time) return -1;\n  return 0;\n}\n\nexport const checkScore = (highScores: any, score: number, elapsed: number) => {\n  const _hs = [...highScores, { score, time: elapsed, newScore: true }].sort(highScoreComparator)\n  return _hs.length < HIGH_SCORES_LENGTH || !_hs[_hs.length - 1].newScore\n}\n\n\n","import styled from 'styled-components'\n\nexport const Container = styled.div`\n  position: absolute;\n  left: 30vw;\n  top: 20vh;\n  width: 40vw;\n  height: 60vh;\n  text-align: center;\n`\n","import * as React from 'react';\nimport { Route } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { hot } from 'react-hot-loader';\nimport { PoseGroup } from 'react-pose';\nimport StarfieldAnimation from 'react-starfield-animation'\nimport { Home } from 'app/containers/Home';\nimport { Game } from 'app/containers/Game';\nimport { Settings } from 'app/containers/Settings';\nimport { HighScores } from 'app/containers/HighScores';\nimport { Background } from 'app/components/Background'\nimport * as chroma from 'chroma-js'\nimport './app.css';\n\nexport const App = hot(module)(connect(state => ({color: state.game.background}))(({color}) => (\n  <div>\n    <header></header>\n    <main>\n      <StarfieldAnimation style={{ position: 'fixed', width: '100vw', height: '100vh', zIndex: '-1'}} />\n      <PoseGroup>\n        <Background color={chroma(color).darken(1).hex()} key=\"background\">\n        </Background>\n      </PoseGroup>\n      <Route exact path=\"/\" component={Home} />\n      <Route path=\"/settings\" component={Settings} />\n      <Route path=\"/high-scores\" component={HighScores} />\n      <Route path=\"/game\" component={Game} />\n    </main>\n  </div>\n)));\n","import * as React from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { GameActions } from 'app/actions/game';\nimport { Container } from 'app/components/Container'\nimport styled from 'styled-components'\n\nexport namespace Home {\n  export interface Props {\n    actions: {\n      newGame: typeof GameActions.newGame;\n    }\n  }\n}\n\nconst HomeButton = styled.div`\n  margin-top: 5vh;\n  color: black;\n  text-decoration: none;\n  marginRight: 2vw;\n`\n\n@connect(\n  null,\n  (dispatch: Dispatch): Pick<Home.Props, 'actions'> => ({\n    actions: bindActionCreators({\n      newGame: GameActions.newGame,\n    }, dispatch)\n  })\n)\nexport class Home extends React.Component<Home.Props> {\n  render() {\n    const { newGame }  = this.props.actions;\n    return (\n      <Container>\n        <h1>A game of squares</h1>\n        <div style={{ display: 'flex', justifyContent: 'space-evenly'  }}>\n          <HomeButton id=\"newGame\" onClick={e => { newGame() }}>New game</HomeButton>\n          <Link to=\"/settings\" style={{ marginRight: '1vw', marginLeft: '1vw'}}><HomeButton>Settings</HomeButton></Link>\n          <Link to=\"/high-scores\"><HomeButton>Scores</HomeButton></Link>\n        </div>\n      </Container>\n    )\n  }\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAmRJREFUSA2dlT2PTVEUhu8wE98Rnc/iFjqJgkTmL1AQnSg0SDSi8ANkEg2FhtAq0OgkEgWFMZVKFAYRERkkCI1vYzzPvec9OefMvXdOZiXPWXuvvdZea6+zz71jnXYyhltIxD8GC5ksV7vpOKwYsMGotQHui00rMblJG9FXaZ5y6AYGzPdCOp316EnYC9vBtY/wBGbgPSgT8Kc3WuKRanQ7DI/gL9jvJrPYzsAaUGxlF2yrsqgD2dyF89DccNj8Nr4b4TRchmycRJj6R+8NeExBc7M5bNNwH6y8uf64sN1AR1Jw7eUcYLUa/J35BdgFa2EVbINT8BL0tfeJucY4UibIUQy+B3H+yfh4vAfondiegf5fCn0VHSkT5J57W75BElyJJ3o16GeQBTk+BhYRf/VNiIzH0a9S2Q22QfkKt3qjflvcSHFjr/AeOAov4DNo3wRe38iCCfLGNW7OCvodvC7m+Sacppg3jHOCicLuWgph2Jk3wXLEoj61CfRY9i3yIQP0VugW8/JlFXNjrNr4DeAN84JEyq4YqHMSGXQE1L5Uj3sXbJFzW2BwTq79IFyHffAbbO0vKJMwLgMGXdMTOgwRL8UsWKS8hS4otVObLRn3M06A2g/tItiGdWARO+AkvAJ9fhT6EjpSS6CxajjHvJrE8RxMwwOoVm2bXPcDzRVPCzHVpZpkiqVmkmHzO/huKbaq7lHffYDDIWwPofpbU03ynLWzkMq9LGk1w8akZ+k/rMKjK/Z9Epp/OE+xzYC3RjHGW2YBrcSAWjUjopZsy7BYE/jCPHpTRq2Vvm0r1C8kuFU7/gPODaVycBLR4gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","import * as React from 'react';\nimport { connect } from 'react-redux'\nimport { ThunkDispatch } from 'redux-thunk'\nimport { bindActionCreators } from 'redux';\nimport posed, { PoseGroup } from 'react-pose';\nimport styled from 'styled-components'\nimport { HighScoreModel } from 'app/models';\nimport { RootState } from 'app/reducers';\nimport { GameActions } from 'app/actions/game';\n\nexport namespace HighScores {\n  export interface StateProps {\n    highScores: HighScoreModel[]\n  }\n  export interface DispatchProps {\n    goHome: typeof GameActions.goHome,\n  }\n  export type Props = StateProps & DispatchProps\n}\n\nconst ScoresContainer = styled.div`\n  margin: 0 auto;\n  margin-top: 10vh;\n  width: 80vw;\n  max-width: 72vh;\n  height: 80vw;\n  max-height: 72vh;\n  text-align: center;\n`\n\nconst Score = posed.li({\n  preenter: { opacity: 0, x: -100 },\n  enter: { opacity: 1, delay: ({ delay }: any) => delay * 650 + 200, x: 0 },\n})\n\n@connect(\n  (state: RootState): HighScores.StateProps => ({\n    highScores: state.highScores\n  }),\n  (dispatch: ThunkDispatch<{}, {}, any>): HighScores.DispatchProps => bindActionCreators({\n    goHome: GameActions.goHome,\n  }, dispatch)\n\n)\nexport class HighScores extends React.Component<HighScores.Props> {\n  render() {\n    const { highScores, goHome } = this.props;\n    return (\n      <ScoresContainer>\n        <h1>Hall of Fame</h1>\n        <ul>\n          <PoseGroup animateOnMount={true} preEnterPose={'preenter'}>\n            { highScores.map(( highScore, idx ) => (\n                <Score delay={idx+1} key={idx}>{ highScore.initials.toUpperCase() } - { highScore.score }pts @ { highScore.time }s</Score>\n            )) }\n          </PoseGroup>\n        </ul>\n        <div style={{ display: 'block', marginTop: '5vh', textAlign: 'center'}} onClick={e => { goHome() }}>Back</div>\n      </ScoresContainer>\n    )\n  }\n}\n","import posed from 'react-pose'\nimport styled from 'styled-components'\n\nexport const Background = styled(posed.div({\n  enter: {\n    background: ({color}: any) => color,\n    transition: { default: { ease: 'easeOut', duration: 700 } },\n  },\n}))`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: -2;\n`;\n","import posed from 'react-pose'\nimport styled from 'styled-components'\n\nexport const GridContainer = styled(posed.div({\n    enter: { opacity: 1 },\n    exit: { opacity: 0 },\n}))`\n    margin: 0 auto;\n    margin-top: 10vh;\n    width: 80vw;\n    max-width: 72vh;\n    height: 80vw;\n    max-height: 72vh;\n    font-size: 1rem;\n    ${props => `box-shadow: 20px 20px ${props.lost ? 'transparent' : 'rgba(10,10,10, 0.4)'};`}\n`;\n\nexport const FlexRow = styled.div`\n    display: flex;\n`;\n\nexport const Cell = styled(posed.div({\n    pressable: true,\n    init: { scale: 1},\n    press: {\n        scale: 0.9,\n        transition: { default: { ease: 'easeOut', duration: 400 } }\n    }\n}))`\n    margin: 2px;\n    color: white;\n    font-weight: bold;\n    flex: 1 0 auto;\n    position: relative;\n    ${props => `\n        box-shadow: 3px 3px ${props.lost ? 'transparent' : 'black'};\n        background: ${props.color};\n    `}\n    :after {\n        content: \"\";\n        float:left;\n        display: block;\n        padding-top: 100%;\n    }\n`;\n","import * as React from 'react'\nimport { Cell, GridContainer, FlexRow } from './styled'\nimport { GameActions } from 'app/actions/game';\n\nexport namespace GameGrid {\n  export interface Props {\n    lost: boolean;\n    grid: string[][];\n    answer: number[];\n    clickPanel: typeof GameActions.clickPanel;\n  }\n}\n\nexport const GameGrid = ({ lost, grid, clickPanel, answer=[] }: GameGrid.Props) => (\n\t<GridContainer lost={lost}>\n\t\t{ grid.map((row, i) => (\n\t\t\t<FlexRow key={i}>\n        { row.map((color, j) => (<Cell\n          id={answer.join(',') === `${j},${i}` ? 'correct' : null} // QA\n          key={`${i},${j}`}\n          color={color}\n          lost={lost}\n          onClick={(e: any) => { clickPanel(i,j); }}\n        />))}\n\t\t\t</FlexRow>\n\t\t))}\n\t</GridContainer>\n)\n\n","import styled from 'styled-components'\n\nexport const HighScoreContainer = styled.div`\n  position: absolute;\n  width: 22vh;\n  height: 22vh;\n  right: 3vh;\n  bottom: 3vh;\n  border-radius: 50%;\n  background: white;\n`;\n\nexport const TimerContainer = styled.div`\n  position: absolute;\n  width: 16vh;\n  height: 16vh;\n  right: 22vh;\n  bottom: 3vh;\n  border-radius: 50%;\n  background: white;\n`;\n\nexport const Inner = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: black;\n`;\n","import * as React from 'react'\nimport { TimerContainer, HighScoreContainer, Inner } from './styled'\nimport FitText from '@kennethormandy/react-fittext'\n\nexport namespace Hud {\n  export interface Props {\n    score: number;\n    starttime?: number;\n    lost: boolean;\n  }\n}\n\nexport class Hud extends React.Component<Hud.Props> {\n\n  timer: any;\n  componentDidMount() {\n    this.timer = setInterval(() => { if (!this.props.lost) this.forceUpdate() }, 1000)\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer)\n  }\n\n  render() {\n    const { score, starttime } = this.props;\n    const elapsed = starttime ? Math.floor((Date.now() - starttime) / 1000) : 0;\n    return (\n      <React.Fragment>\n        <TimerContainer>\n          <FitText compressor={0.6}>\n            <Inner>{elapsed}s</Inner>\n          </FitText>\n        </TimerContainer>\n        <HighScoreContainer>\n          <FitText compressor={0.6}>\n            <Inner id=\"score\">{ score }pts</Inner>\n          </FitText>\n        </HighScoreContainer>\n      </React.Fragment>\n    )\n  }\n\n}\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { GameActions } from 'app/actions/game';\nimport refreshIcon from './refresh.png'\nimport closeIcon from './erase.png'\n\nconst TrayContainer = styled.div`\n    position: absolute;\n    right: 1vw;\n    top: 1vh;\n    width: 3vw;\n    height: 3vh;\n`;\n\nexport namespace Tray {\n  export interface Props {\n    newGame: typeof GameActions.newGame;\n    goHome: typeof GameActions.goHome;\n  }\n}\n\nconst Tray = ({ newGame, goHome }: Tray.Props) => (\n  <React.Fragment>\n    <TrayContainer>\n    <img\n          src={closeIcon}\n          alt=\"Close\"\n          onClick={(e) => {\n              e.preventDefault();\n              newGame();\n              goHome();\n          }}\n      />\n      <img\n          src={refreshIcon}\n          alt=\"Refresh\"\n          onClick={(e) => {\n              e.preventDefault();\n              newGame();\n          }}\n      />\n    </TrayContainer>\n  </React.Fragment>\n)\n\nexport default Tray;\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport SplitText from 'react-pose-text'\n\nconst HighScoreHeader = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: black;\n  font-weight: bold;\n  font-size: 6vw;\n`;\n\nconst charPoses = {\n  exit: { opacity: 0.8, y: 70 },\n  enter: {\n    opacity: 1,\n    y: 0,\n    delay: ({ charIndex }: any) => charIndex * 30 + Math.random() * 30,\n    transition: {\n      ease: 'backOut',\n      duration: 700,\n      flip: 1000\n    }\n  }\n}\n\nexport const HighScoreBanner = () => (\n  <HighScoreHeader>\n    <SplitText initialPose=\"exit\" pose=\"enter\" charPoses={charPoses}>\n      New high score!!\n    </SplitText>\n  </HighScoreHeader>\n)\n\nexport const HighScoreInput = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 20vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: black;\n  font-size: 3vw;\n`;\n\nexport const Input = styled.input.attrs({\n  type: 'text',\n  size: 3,\n  maxLength: 3,\n  autoFocus: true,\n  placeholder: 'BOB'\n})`\n  background-color: transparent;\n  font-size: 3vw;\n`\n","import * as React from 'react'\nimport { HighScoreActions } from 'app/actions/high-scores'\nimport { HighScoreBanner, HighScoreInput, Input } from './styled'\n\nexport namespace HighScore {\n  export interface Props {\n    score: number;\n    time: number;\n    addHighScore: typeof HighScoreActions.addHighScore;\n  }\n}\n\nconst HighScore = ({score, time, addHighScore}: HighScore.Props) => (\n  <React.Fragment>\n    <HighScoreBanner />\n    <HighScoreInput>\n      <p>Enter your initials:</p>\n      <Input onKeyDown={(e: any) => {\n        if (e.key === 'Enter' && e.target.value) {\n          e.preventDefault();\n          addHighScore(score, time, e.target.value)\n        }\n      }}/>\n    </HighScoreInput>\n  </React.Fragment>\n)\n\nexport default HighScore;\n","import posed from 'react-pose'\nimport styled from 'styled-components'\n\nexport const GameOver = styled(posed.div({\n  enter: {\n      opacity: 1\n  },\n  exit: { opacity: 0 },\n}))`\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: black;\n  font-weight: bold;\n  font-size: 10rem;\n`;\n\nexport default GameOver;\n","import * as React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux'\nimport { ThunkDispatch } from 'redux-thunk'\n\nimport { RootState } from 'app/reducers';\nimport { GameActions } from 'app/actions/game';\nimport { HighScoreActions } from 'app/actions/high-scores';\nimport { GameGrid } from 'app/components/GameGrid';\nimport { Hud } from 'app/components/Hud';\nimport Tray from 'app/components/Tray';\nimport HighScore from 'app/components/HighScore';\nimport GameOver from 'app/components/GameOver';\n\nexport namespace Game {\n  export interface StateProps {\n    score: number,\n    level: number,\n    grid: string[][],\n    answer: number[],\n    lost: boolean,\n    started: boolean,\n    startTime?: number,\n    outcome?: string\n    background: string\n  }\n  export interface DispatchProps {\n    newGame: typeof GameActions.newGame,\n    goHome: typeof GameActions.goHome,\n    clickPanel: typeof GameActions.clickPanel,\n    addHighScore: typeof HighScoreActions.addHighScore\n  }\n  export type Props = StateProps & DispatchProps\n}\n\n@connect(\n  ({ game }: RootState) => ({\n    score: game.score,\n    level: game.level,\n    grid: game.grid,\n    answer: game.answer,\n    lost: game.lost,\n    started: game.started,\n    startTime: game.startTime,\n    outcome: game.outcome,\n    background: game.background\n  }),\n  (dispatch: ThunkDispatch<{}, {}, any>): Game.DispatchProps => bindActionCreators({\n    newGame: GameActions.newGame,\n    goHome: GameActions.goHome,\n    clickPanel: GameActions.clickPanel,\n    addHighScore: HighScoreActions.addHighScore,\n  }, dispatch)\n)\n\nexport class Game extends React.Component<Game.Props> {\n  render() {\n    const { started, grid, answer, clickPanel, lost, score, startTime, newGame, goHome, outcome, addHighScore}  = this.props;\n    if (!started) return null;\n    return (\n      <React.Fragment>\n        <GameGrid grid={grid} answer={answer} clickPanel={clickPanel} lost={lost} key=\"grid\" />\n        <Hud score={score} starttime={startTime} lost={lost} />\n        { outcome === 'DEFEAT' ? <GameOver>You lose!</GameOver> : null }\n        { outcome === 'HIGH_SCORE' ? <HighScore\n          addHighScore={addHighScore}\n          score={score}\n          time={Math.floor((Date.now() - (startTime || 0)) / 1000)}\n        /> : null }\n        <Tray newGame={newGame} goHome={goHome} />\n      </React.Fragment>\n    )\n  }\n  constructor(props: Game.Props) {\n    super(props);\n    if (!props.started) props.newGame();\n  }\n\n}\n","import * as React from 'react'\nimport { GameActions } from 'app/actions/game';\nimport { PALETTES, Theme } from 'app/constants/palette'\n\nconst themes = Object.keys( PALETTES );\n\nexport namespace ThemeSelector {\n  export interface Props {\n    theme: Theme;\n    setBackground: typeof GameActions.setBackground;\n  }\n}\n\nexport const ThemeSelector = ({ theme, setBackground }: ThemeSelector.Props) => (\n\t<React.Fragment>\n    <div style={{marginBottom: '2vh'}}>theme:{ theme }</div>\n    <div style={{width: '100%', display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\n      { PALETTES[theme].map((color: string) => (<div\n        key={color}\n        style={{ width: '5vw', height: '5vw', marginRight: '1vw', float: 'left', background: color }}>\n      </div>))}\n    </div>\n    <div style={{width: '100%', display: 'block', paddingTop: '2vh'}}>\n      <div\n        style={{ float: 'left' }}\n        onClick={(e: any) => {\n          e.preventDefault()\n          const target = themes.indexOf(theme) - 1\n          const targetTheme = themes[\n            (target === -1) ? themes.length - 1: target\n          ] as Theme;\n          setBackground(targetTheme)\n        }}\n      >Previous</div>\n      <div\n        style={{ float: 'right' }}\n        onClick={(e: any) => {\n          e.preventDefault()\n          const target = themes.indexOf(theme) + 1\n          const targetTheme = themes[\n            (target === themes.length ) ? 0: target\n          ] as Theme;\n          console.log(theme, themes)\n          setBackground(targetTheme)\n        }}\n      >Next</div>\n    </div>\n  </React.Fragment>\n)\n","import * as React from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux'\nimport { GameActions } from 'app/actions/game';\nimport { ThemeSelector } from 'app/components/ThemeSelector';\nimport { Container } from 'app/components/Container'\nimport { Theme } from 'app/constants/palette'\n\nexport namespace Settings {\n  export interface Props {\n    theme: Theme,\n    actions: {\n      setBackground: typeof GameActions.setBackground,\n      goHome: typeof GameActions.goHome,\n    }\n  }\n}\n\n@connect(\n  (state) => ({\n    theme: state.game.theme,\n  }),\n  (dispatch: Dispatch): Pick<Settings.Props, 'actions'> => ({\n    actions: bindActionCreators({\n      setBackground: GameActions.setBackground,\n      goHome: GameActions.goHome\n    }, dispatch)\n  })\n)\nexport class Settings extends React.Component<Settings.Props> {\n  render() {\n    const { setBackground, goHome } = this.props.actions;\n    const { theme } = this.props;\n    return (\n      <Container>\n        <h1>Settings</h1>\n        <ThemeSelector theme={theme} setBackground={setBackground} />\n        <div style={{ marginTop: '7vh', textAlign: 'center'}} onClick={e => { goHome() }}>Back</div>\n      </Container>\n    )\n  }\n}\n","export namespace SettingsActions {\n\n  export enum Type {\n    LOAD_SETTINGS = 'LOAD_SETTINGS',\n    TOGGLE_SETTING = 'TOGGLE_SETTING',\n    SET_SETTING = 'SET_SETTING'\n  }\n\n  export const loadSettings = () => ({ type: Type.LOAD_SETTINGS })\n  export const toggleSetting = (setting: string) => ({ type: Type.TOGGLE_SETTING, setting })\n  export const setSetting = (setting: string, value: any) => ({ type: Type.SET_SETTING, setting, value })\n\n}\n","import { Middleware } from 'redux';\n\nexport const logger: Middleware = (store) => (next) => (action) => {\n  if (process.env.NODE_ENV !== 'production') {\n    console.log(action);\n  }\n  return next(action);\n};\n","import * as chroma from 'chroma-js';\n\nconst getRandom = (max: number) => Math.floor(Math.random() * max)\n\nconst generateGrid = (level: number, x: number, y: number, baseColor: string, alternateColor: string) =>\n  Array(level + 1).fill(0).map( (_, idy) =>\n    Array(level + 1).fill(0).map( (_, idx) =>\n      idx === x && idy === y ? alternateColor : baseColor\n    )\n  )\n\nexport const generateLevel = (theme: string[], level: number, previousColor: string) => {\n  if (!previousColor) previousColor = theme[0];\n  const _PALETTE = theme.filter(color => color !== previousColor)\n  const baseColor = _PALETTE[getRandom(_PALETTE.length)];\n  const alternateColor = chroma(baseColor).saturate(3).hex();\n  const answer = [getRandom(level + 1), getRandom(level + 1)]\n  return {\n    answer,\n    baseColor,\n    alternateColor,\n    grid: generateGrid(level, answer[0], answer[1], baseColor, alternateColor)\n  }\n}\n","import { GameModel } from 'app/models/GameModel'\nimport { GameActions } from 'app/actions/game';\nimport { PALETTES } from 'app/constants/palette';\nimport { generateLevel } from './game-helpers'\n\nconst initialState: GameModel = {\n  theme: 'vapor',\n  started: false,\n  lost: false,\n  level: 1,\n  score: 0,\n  background: PALETTES.vapor[0],\n};\n\nexport const gameReducer = (state = initialState, action: any): GameModel => {\n  const PALETTE = PALETTES[state.theme];\n  switch (action.type) {\n    case GameActions.Type.NEW_GAME:\n      return {\n        theme: state.theme,\n        started: true,\n        lost: false,\n        level: 1,\n        score: 0,\n        background: PALETTE[0],\n        startTime: Math.round(new Date().getTime()),\n        ...generateLevel(PALETTE, 1, PALETTE[0])\n      }\n\n    case GameActions.Type.CLICK_PANEL:\n      if (!state.answer || !state.baseColor) return state;\n      if (action.payload.join(',') === state.answer.join(',') && !state.lost) {\n        return {\n          ...state,\n          level: state.level + 1,\n          score: state.score + 1,\n          background: state.alternateColor || 'transparent',\n          ...generateLevel(PALETTE, state.level + 1, state.baseColor)\n        }\n      } else if (state.grid) {\n        return {\n          ...state,\n          grid: state.grid.map(\n            (row, idx) => row.map((c, idy) => {\n              if (action.payload.join(',') === [idy, idx].join(',')) return 'red';\n              if (state.answer && state.answer.join(',') === [idy, idx].join(',')) return c;\n              return 'transparent';\n            })\n          ),\n          lost: true\n        }\n      } else {\n        return state;\n      }\n\n    case GameActions.Type.SET_BACKGROUND:\n      // @ts-ignore\n      const bgColor = PALETTES[action.color][0]\n      return { ...state, theme: action.color, background: bgColor }\n\n    case GameActions.Type.SET_OUTCOME:\n      return { ...state, outcome: action.outcome }\n\n    default:\n      return state\n  }\n}\n","import { SettingsActions } from 'app/actions/settings';\n\nconst initialState = {\n  theme: 'vapor',\n  music: true,\n  effects: true\n}\n\nexport const settingsReducer = (state = initialState, action: any) => {\n  let newSettings;\n  switch (action.type) {\n    case SettingsActions.Type.LOAD_SETTINGS:\n      const ls = localStorage.getItem('settings');\n      if (ls) {\n        try {\n          return JSON.parse(ls)\n        } catch (e) { }\n      }\n      return [];\n\n    case SettingsActions.Type.TOGGLE_SETTING:\n      newSettings = {\n        ...state,\n        // @ts-ignore\n        [action.setting]: !state[action.setting]\n      }\n      localStorage.setItem('settings', JSON.stringify(newSettings))\n      return newSettings;\n\n    case SettingsActions.Type.SET_SETTING:\n      newSettings = {\n        ...state,\n        // @ts-ignore\n        [action.setting]: action.value\n      }\n      localStorage.setItem('settings', JSON.stringify(newSettings))\n      return newSettings;\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport { RootState } from './state';\nimport { highScoreReducer } from './high-score';\nimport { gameReducer } from './game';\nimport { settingsReducer } from './settings';\n\nimport { connectRouter } from 'connected-react-router'\nexport { RootState };\n\n// NOTE: current type definition of Reducer in 'redux-actions' module\n// doesn't go well with redux@4\nexport const rootReducer = (history: any) => combineReducers<RootState>({\n  router: connectRouter(history),\n  highScores: highScoreReducer,\n  game: gameReducer,\n  settings: settingsReducer,\n} as any);\n","import { HighScoreActions } from './high-scores'\n\nconst initialize = (dispatch:any) => {\n  dispatch(HighScoreActions.loadHighScores())\n}\n\nexport default initialize;\n","import { Store, createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk'\nimport { createBrowserHistory } from 'history'\nimport { routerMiddleware } from 'connected-react-router'\nimport { logger } from 'app/middleware';\nimport { RootState, rootReducer } from 'app/reducers';\nimport initialize from 'app/actions/initialize';\n\nexport const history = createBrowserHistory()\n\nexport function configureStore(initialState?: RootState): Store<RootState> {\n  let middleware = applyMiddleware(routerMiddleware(history), thunk, logger);\n\n  if (process.env.NODE_ENV !== 'production') {\n    middleware = composeWithDevTools(middleware);\n  }\n\n  const store = createStore(\n    rootReducer(history) as any,\n    initialState as any,\n    middleware\n  ) as Store<RootState>;\n\n  initialize(store.dispatch);\n\n  if (module.hot) {\n    module.hot.accept('app/reducers', () => {\n      const nextReducer = require('app/reducers');\n      store.replaceReducer(nextReducer);\n    });\n  }\n\n  return store;\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { configureStore, history } from 'app/store';\nimport { ConnectedRouter } from 'connected-react-router'\nimport { App } from './app';\n\n// prepare store\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <App />\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n","import { AnyAction } from 'redux'\nimport { ThunkAction, ThunkDispatch } from 'redux-thunk'\nimport { push } from 'connected-react-router'\nimport { checkScore } from 'app/reducers/high-score';\n\nexport namespace GameActions {\n  export enum Type {\n    NEW_GAME = 'NEW_GAME',\n    CLICK_PANEL = 'CLICK_PANEL',\n    SET_OUTCOME = 'SET_OUTCOME',\n    SET_BACKGROUND = 'SET_BACKGROUND',\n  }\n\n  export const setOutcome = (outcome: string): any => ({\n    type: Type.SET_OUTCOME, outcome\n  })\n\n  export const setBackground = (color: string): any => ({\n    type: Type.SET_BACKGROUND, color\n  })\n\n  export const goHome = (): any => push('/')\n\n  export const newGame = (): ThunkAction<Promise<void>, {}, {}, AnyAction> =>\n    async (dispatch: ThunkDispatch<{}, {}, AnyAction>): Promise<void> => new Promise<void>(\n      (resolve) => {\n        dispatch({ type: Type.NEW_GAME })\n        dispatch(push('/game'))\n      }\n    )\n\n  export const clickPanel = (x: number, y: number): ThunkAction<Promise<void>, {}, {}, AnyAction> =>\n    async (dispatch: ThunkDispatch<{}, {}, AnyAction>, getState: any): Promise<void> => new Promise<void>(\n      (resolve) => {\n        dispatch({ type: Type.CLICK_PANEL, payload: [ y, x ] })\n        dispatch(push('/game'))\n        const { lost, score, elapsed } = getState().game\n        if (lost) {\n          // stopGameTimer();\n          setTimeout(() => {\n            const outcome = checkScore(getState().highScores, score, elapsed) ? 'HIGH_SCORE' : 'DEFEAT'\n            dispatch({ type: Type.SET_OUTCOME, outcome })\n          }, 1000)\n        }\n      }\n    )\n}\n\nexport type GameActions = Omit<typeof GameActions, 'Type'>\n\n\n\n\n\n"],"sourceRoot":""}