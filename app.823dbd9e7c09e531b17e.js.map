{"version":3,"sources":["webpack:///./app/actions/high-scores.ts","webpack:///./app/constants/palette.ts","webpack:///./app/reducers/high-score.ts","webpack:///./app/components/Container/index.tsx","webpack:///./app/index.tsx","webpack:///./app/containers/Home/index.tsx","webpack:///./app/components/Tray/refresh.png","webpack:///./app/components/Tray/erase.png","webpack:///./app/containers/HighScores/index.tsx","webpack:///./app/components/Background/index.tsx","webpack:///./app/components/GameGrid/styled.tsx","webpack:///./app/components/GameGrid/index.tsx","webpack:///./app/components/Hud/styled.tsx","webpack:///./app/components/Hud/index.tsx","webpack:///./app/components/Tray/index.tsx","webpack:///./app/components/HighScore/styled.tsx","webpack:///./app/components/HighScore/index.tsx","webpack:///./app/components/GameOver/index.tsx","webpack:///./app/containers/Game/index.tsx","webpack:///./app/components/ThemeSelector/index.tsx","webpack:///./app/containers/Settings/index.tsx","webpack:///./app/actions/settings.ts","webpack:///./app/middleware/logger.ts","webpack:///./app/reducers/game-helpers.ts","webpack:///./app/reducers/game.ts","webpack:///./app/reducers/settings.ts","webpack:///./app/reducers/index.ts","webpack:///./app/actions/initialize.ts","webpack:///./app/store/index.ts","webpack:///./main.tsx","webpack:///./app/actions/game.ts"],"names":["HighScoreActions","Type","loadHighScores","dispatch","__awaiter","_this","Promise","resolve","type","LOAD_HIGHSCORES","addHighScore","score","time","initials","ADD_HIGHSCORE","payload","Object","connected_react_router__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","d","__webpack_exports__","PALETTES","vapor","phantom","hickory","red_clover","wood_sorrel","foretell","crystal_sunshine","soft_nature","cloudy_woods","highScoreReducer","checkScore","app_actions_high_scores__WEBPACK_IMPORTED_MODULE_0__","state","action","ls","localStorage","getItem","JSON","parse","e","newScore","newHighScores","concat","sort","highScoreComparator","slice","HIGH_SCORES_LENGTH","setItem","stringify","a","b","highScores","elapsed","_hs","length","Container","div","templateObject_1","__makeTemplateObject","module","App","react__WEBPACK_IMPORTED_MODULE_0__","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_3__","react_hot_loader__WEBPACK_IMPORTED_MODULE_4__","react_pose__WEBPACK_IMPORTED_MODULE_5__","react_starfield_animation__WEBPACK_IMPORTED_MODULE_6__","app_containers_Home__WEBPACK_IMPORTED_MODULE_7__","app_containers_Game__WEBPACK_IMPORTED_MODULE_8__","app_containers_Settings__WEBPACK_IMPORTED_MODULE_9__","app_containers_HighScores__WEBPACK_IMPORTED_MODULE_10__","app_components_Background__WEBPACK_IMPORTED_MODULE_11__","react_router_dom__WEBPACK_IMPORTED_MODULE_12__","chroma_js__WEBPACK_IMPORTED_MODULE_13__","color","game","background","_a","style","position","width","height","zIndex","darken","hex","key","exact","path","component","HomeButton","styled_components__WEBPACK_IMPORTED_MODULE_6__","Home","_super","__extends","prototype","render","newGame","this","props","actions","app_components_Container__WEBPACK_IMPORTED_MODULE_5__","display","justifyContent","id","onClick","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","to","marginRight","marginLeft","__decorate","react_redux__WEBPACK_IMPORTED_MODULE_2__","redux__WEBPACK_IMPORTED_MODULE_1__","app_actions_game__WEBPACK_IMPORTED_MODULE_4__","exports","ScoresContainer","styled_components__WEBPACK_IMPORTED_MODULE_4__","Score","react_pose__WEBPACK_IMPORTED_MODULE_3__","li","preenter","opacity","x","enter","delay","HighScores","goHome","animateOnMount","preEnterPose","map","highScore","idx","toUpperCase","marginTop","textAlign","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux__WEBPACK_IMPORTED_MODULE_2__","app_actions_game__WEBPACK_IMPORTED_MODULE_5__","Background","styled_components__WEBPACK_IMPORTED_MODULE_1__","react_pose__WEBPACK_IMPORTED_MODULE_0__","transition","default","ease","duration","GridContainer","styled_components_browser_esm","react_pose_es","exit","lost","FlexRow","templateObject_2","Cell","pressable","init","scale","press","templateObject_3","GameGrid","grid","clickPanel","_b","answer","react","row","i","j","join","HighScoreContainer","styled_templateObject_1","styled_makeTemplateObject","TimerContainer","styled_templateObject_2","Inner","styled_templateObject_3","Hud_Hud","Hud","componentDidMount","timer","setInterval","forceUpdate","componentWillUnmount","clearInterval","starttime","Math","floor","Date","now","FitText_default","compressor","TrayContainer","Tray_templateObject_1","Tray_makeTemplateObject","components_Tray","src","erase_default","alt","preventDefault","refresh_default","HighScoreHeader","HighScore_styled_templateObject_1","HighScore_styled_makeTemplateObject","charPoses","y","charIndex","random","flip","HighScoreBanner","react_pose_text_es","initialPose","pose","HighScoreInput","HighScore_styled_templateObject_2","Input","input","attrs","size","maxLength","autoFocus","placeholder","HighScore_styled_templateObject_3","components_HighScore","onKeyDown","target","value","components_GameOver","GameOver_templateObject_1","GameOver_makeTemplateObject","Game_Game","Game","call","started","Game_extends","startTime","outcome","es","level","redux","high_scores","themes","keys","palette","ThemeSelector","theme","setBackground","marginBottom","alignItems","float","paddingTop","indexOf","targetTheme","console","log","Settings_Settings","Settings","SettingsActions","logger","store","next","getRandom","max","generateLevel","previousColor","_PALETTE","filter","baseColor","alternateColor","chroma","saturate","Array","fill","_","idy","generateGrid","game_initialState","gameReducer","PALETTE","NEW_GAME","__assign","round","getTime","CLICK_PANEL","c","SET_BACKGROUND","bgColor","SET_OUTCOME","loadSettings","LOAD_SETTINGS","toggleSetting","setting","TOGGLE_SETTING","setSetting","SET_SETTING","settings_initialState","music","effects","settingsReducer","newSettings","settings_assign","rootReducer","history","router","esm","high_score","settings","actions_initialize","store_history","history_es","hashType","initialState","middleware","main_store","esm_middleware","redux_thunk_es","react_dom","app","document","getElementById","GameActions","setOutcome","getState","setTimeout","app_reducers_high_score__WEBPACK_IMPORTED_MODULE_1__"],"mappings":"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","file":"app.823dbd9e7c09e531b17e.js","sourcesContent":["import { AnyAction } from 'redux'\nimport { ThunkAction, ThunkDispatch } from 'redux-thunk'\nimport { push } from 'connected-react-router'\n\nexport namespace HighScoreActions {\n  export enum Type {\n    LOAD_HIGHSCORES = 'LOAD_HIGHSCORES',\n    ADD_HIGHSCORE = 'ADD_HIGHSCORE'\n  }\n\n  export const loadHighScores = (): ThunkAction<Promise<void>, {}, {}, AnyAction> =>\n    async (dispatch: ThunkDispatch<{}, {}, AnyAction>): Promise<void> => new Promise<void>(\n      (resolve) => {\n        dispatch({ type: Type.LOAD_HIGHSCORES })\n        resolve();\n      }\n    )\n\n  export const addHighScore = (score: number, time: number, initials: string ): ThunkAction<Promise<void>, {}, {}, AnyAction> =>\n    async (dispatch: ThunkDispatch<{}, {}, AnyAction>): Promise<void> => new Promise<void>(\n      (resolve) => {\n        dispatch({\n          type: Type.ADD_HIGHSCORE,\n          payload: {\n            score: score,\n            time: time,\n            initials: initials\n          }\n        })\n        dispatch(push('/high-scores'))\n        resolve();\n      }\n    )\n  }\n\nexport type HighScoreActions = Omit<typeof HighScoreActions, 'Type'>\n","export const PALETTE2 = [\n  '#ff71ce',\n  '#01cdfe',\n  '#05ffa1',\n  '#b967ff',\n  '#fffb96'\n]\n\nexport const PALETTE = [\n  '#135589',\n  '#272930',\n  '#3ddad7',\n  '#d1d3cf',\n  '#198967'\n]\n\ninterface PALETTES {\n  [key: string]: string[];\n}\n\nexport type Theme = 'vapor' | 'phantom' | 'hickory' | 'red_clover' | 'wood_sorrel' | 'foretell' | 'crystal_sunshine' | 'soft_nature' | 'cloudy_woods';\n\nexport const PALETTES = {\n  vapor: [ '#ff71ce', '#01cdfe', '#05ffa1', '#b967ff', '#fffb96' ],\n  phantom: [ '#135589', '#272930', '#3ddad7', '#d1d3cf', '#198967' ],\n  hickory: ['#2eab1a', '#a9d233', '#734bf4', '#9395ee', '#746ff9'],\n  red_clover: ['#f4cef1', '#a915b2', '#1fb222', '#9be195', '#103a2a'],\n  wood_sorrel: ['#fbd9d3', '#a3e545', '#d6c51e', '#18c145', '#055881'],\n  foretell: ['#08566d', '#0aa34a', '#f6f0ca', '#964e12', '#bd46d4'],\n  crystal_sunshine: ['#ebbdeb', '#cec6ff', '#719dd6', '#4f6cb2', '#1f2c59'],\n  soft_nature: ['#669999', '#ba8080', '#669966', '#99bb7d', '#beca8a'],\n  cloudy_woods: ['#003609', '#603f00', '#362400', '#838383', '#a16900'],\n}\n","import { HighScoreActions } from 'app/actions/high-scores';\n\nconst HIGH_SCORES_LENGTH = 10;\n\nexport const highScoreReducer = (state = [], action: any) => {\n  switch (action.type) {\n    case HighScoreActions.Type.LOAD_HIGHSCORES:\n      const ls = localStorage.getItem('high-scores');\n      if (ls) {\n        try {\n          return JSON.parse(ls)\n        } catch (e) { }\n      }\n      return [];\n\n    case HighScoreActions.Type.ADD_HIGHSCORE:\n      const newScore = {\n        initials: action.payload.initials,\n        score: action.payload.score,\n        time: action.payload.time\n      }\n      const newHighScores = [...state, newScore].sort(highScoreComparator).slice(0, HIGH_SCORES_LENGTH - 1)\n      localStorage.setItem('high-scores', JSON.stringify(newHighScores))\n      return newHighScores;\n\n    default:\n      return state;\n  }\n}\n\nconst highScoreComparator = (a:any, b:any) => {\n  if (a.score < b.score) return 1;\n  if (a.score > b.score) return -1;\n  if (a.time > b.time) return 1;\n  if (a.time < b.time) return -1;\n  return 0;\n}\n\nexport const checkScore = (highScores: any, score: number, elapsed: number) => {\n  const _hs = [...highScores, { score, time: elapsed, newScore: true }].sort(highScoreComparator)\n  return _hs.length < HIGH_SCORES_LENGTH || !_hs[_hs.length - 1].newScore\n}\n\n\n","import styled from 'styled-components'\n\nexport const Container = styled.div`\n  position: absolute;\n  left: 30vw;\n  top: 20vh;\n  width: 40vw;\n  height: 60vh;\n  text-align: center;\n`\n","import * as React from 'react';\nimport { Route, Switch } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { hot } from 'react-hot-loader';\nimport { PoseGroup } from 'react-pose';\nimport StarfieldAnimation from 'react-starfield-animation'\nimport { Home } from 'app/containers/Home';\nimport { Game } from 'app/containers/Game';\nimport { Settings } from 'app/containers/Settings';\nimport { HighScores } from 'app/containers/HighScores';\nimport { Background } from 'app/components/Background'\nimport { HashRouter } from 'react-router-dom';\nimport * as chroma from 'chroma-js'\nimport './app.css';\n\nexport const App = hot(module)(connect(state => ({color: state.game.background}))(({color}) => (\n  <div>\n    <header></header>\n    <main>\n      <StarfieldAnimation style={{ position: 'fixed', width: '100vw', height: '100vh', zIndex: '-1'}} />\n      <PoseGroup>\n        <Background color={chroma(color).darken(1).hex()} key=\"background\">\n        </Background>\n      </PoseGroup>\n      <HashRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/settings\" component={Settings} />\n          <Route path=\"/high-scores\" component={HighScores} />\n          <Route path=\"/game\" component={Game} />\n        </Switch>\n      </HashRouter>\n    </main>\n  </div>\n)));\n","import * as React from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { GameActions } from 'app/actions/game';\nimport { Container } from 'app/components/Container'\nimport styled from 'styled-components'\n\nexport namespace Home {\n  export interface Props {\n    actions: {\n      newGame: typeof GameActions.newGame;\n    }\n  }\n}\n\nconst HomeButton = styled.div`\n  margin-top: 5vh;\n  color: black;\n  text-decoration: none;\n  marginRight: 2vw;\n`\n\n@connect(\n  null,\n  (dispatch: Dispatch): Pick<Home.Props, 'actions'> => ({\n    actions: bindActionCreators({\n      newGame: GameActions.newGame,\n    }, dispatch)\n  })\n)\nexport class Home extends React.Component<Home.Props> {\n  render() {\n    const { newGame }  = this.props.actions;\n    return (\n      <Container>\n        <h1>A game of squares</h1>\n        <div style={{ display: 'flex', justifyContent: 'space-evenly'  }}>\n          <HomeButton id=\"newGame\" onClick={e => { newGame() }}>New game</HomeButton>\n          <Link to=\"/settings\" style={{ marginRight: '1vw', marginLeft: '1vw'}}><HomeButton>Settings</HomeButton></Link>\n          <Link to=\"/high-scores\"><HomeButton>Scores</HomeButton></Link>\n        </div>\n      </Container>\n    )\n  }\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAmRJREFUSA2dlT2PTVEUhu8wE98Rnc/iFjqJgkTmL1AQnSg0SDSi8ANkEg2FhtAq0OgkEgWFMZVKFAYRERkkCI1vYzzPvec9OefMvXdOZiXPWXuvvdZea6+zz71jnXYyhltIxD8GC5ksV7vpOKwYsMGotQHui00rMblJG9FXaZ5y6AYGzPdCOp316EnYC9vBtY/wBGbgPSgT8Kc3WuKRanQ7DI/gL9jvJrPYzsAaUGxlF2yrsqgD2dyF89DccNj8Nr4b4TRchmycRJj6R+8NeExBc7M5bNNwH6y8uf64sN1AR1Jw7eUcYLUa/J35BdgFa2EVbINT8BL0tfeJucY4UibIUQy+B3H+yfh4vAfondiegf5fCn0VHSkT5J57W75BElyJJ3o16GeQBTk+BhYRf/VNiIzH0a9S2Q22QfkKt3qjflvcSHFjr/AeOAov4DNo3wRe38iCCfLGNW7OCvodvC7m+Sacppg3jHOCicLuWgph2Jk3wXLEoj61CfRY9i3yIQP0VugW8/JlFXNjrNr4DeAN84JEyq4YqHMSGXQE1L5Uj3sXbJFzW2BwTq79IFyHffAbbO0vKJMwLgMGXdMTOgwRL8UsWKS8hS4otVObLRn3M06A2g/tItiGdWARO+AkvAJ9fhT6EjpSS6CxajjHvJrE8RxMwwOoVm2bXPcDzRVPCzHVpZpkiqVmkmHzO/huKbaq7lHffYDDIWwPofpbU03ynLWzkMq9LGk1w8akZ+k/rMKjK/Z9Epp/OE+xzYC3RjHGW2YBrcSAWjUjopZsy7BYE/jCPHpTRq2Vvm0r1C8kuFU7/gPODaVycBLR4gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","import * as React from 'react';\nimport { connect } from 'react-redux'\nimport { ThunkDispatch } from 'redux-thunk'\nimport { bindActionCreators } from 'redux';\nimport posed, { PoseGroup } from 'react-pose';\nimport styled from 'styled-components'\nimport { HighScoreModel } from 'app/models';\nimport { RootState } from 'app/reducers';\nimport { GameActions } from 'app/actions/game';\n\nexport namespace HighScores {\n  export interface StateProps {\n    highScores: HighScoreModel[]\n  }\n  export interface DispatchProps {\n    goHome: typeof GameActions.goHome,\n  }\n  export type Props = StateProps & DispatchProps\n}\n\nconst ScoresContainer = styled.div`\n  margin: 0 auto;\n  margin-top: 10vh;\n  width: 80vw;\n  max-width: 72vh;\n  height: 80vw;\n  max-height: 72vh;\n  text-align: center;\n`\n\nconst Score = posed.li({\n  preenter: { opacity: 0, x: -100 },\n  enter: { opacity: 1, delay: ({ delay }: any) => delay * 650 + 200, x: 0 },\n})\n\n@connect(\n  (state: RootState): HighScores.StateProps => ({\n    highScores: state.highScores\n  }),\n  (dispatch: ThunkDispatch<{}, {}, any>): HighScores.DispatchProps => bindActionCreators({\n    goHome: GameActions.goHome,\n  }, dispatch)\n\n)\nexport class HighScores extends React.Component<HighScores.Props> {\n  render() {\n    const { highScores, goHome } = this.props;\n    return (\n      <ScoresContainer>\n        <h1>Hall of Fame</h1>\n        <ul>\n          <PoseGroup animateOnMount={true} preEnterPose={'preenter'}>\n            { highScores.map(( highScore, idx ) => (\n                <Score delay={idx+1} key={idx}>{ highScore.initials.toUpperCase() } - { highScore.score }pts @ { highScore.time }s</Score>\n            )) }\n          </PoseGroup>\n        </ul>\n        <div style={{ display: 'block', marginTop: '5vh', textAlign: 'center'}} onClick={e => { goHome() }}>Back</div>\n      </ScoresContainer>\n    )\n  }\n}\n","import posed from 'react-pose'\nimport styled from 'styled-components'\n\nexport const Background = styled(posed.div({\n  enter: {\n    background: ({color}: any) => color,\n    transition: { default: { ease: 'easeOut', duration: 700 } },\n  },\n}))`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: -2;\n`;\n","import posed from 'react-pose'\nimport styled from 'styled-components'\n\nexport const GridContainer = styled(posed.div({\n    enter: { opacity: 1 },\n    exit: { opacity: 0 },\n}))`\n    margin: 0 auto;\n    margin-top: 10vh;\n    width: 80vw;\n    max-width: 72vh;\n    height: 80vw;\n    max-height: 72vh;\n    font-size: 1rem;\n    ${props => `box-shadow: 20px 20px ${props.lost ? 'transparent' : 'rgba(10,10,10, 0.4)'};`}\n`;\n\nexport const FlexRow = styled.div`\n    display: flex;\n`;\n\nexport const Cell = styled(posed.div({\n    pressable: true,\n    init: { scale: 1},\n    press: {\n        scale: 0.9,\n        transition: { default: { ease: 'easeOut', duration: 400 } }\n    }\n}))`\n    margin: 2px;\n    color: white;\n    font-weight: bold;\n    flex: 1 0 auto;\n    position: relative;\n    ${props => `\n        box-shadow: 3px 3px ${props.lost ? 'transparent' : 'black'};\n        background: ${props.color};\n    `}\n    :after {\n        content: \"\";\n        float:left;\n        display: block;\n        padding-top: 100%;\n    }\n`;\n","import * as React from 'react'\nimport { Cell, GridContainer, FlexRow } from './styled'\nimport { GameActions } from 'app/actions/game';\n\nexport namespace GameGrid {\n  export interface Props {\n    lost: boolean;\n    grid: string[][];\n    answer: number[];\n    clickPanel: typeof GameActions.clickPanel;\n  }\n}\n\nexport const GameGrid = ({ lost, grid, clickPanel, answer=[] }: GameGrid.Props) => (\n\t<GridContainer lost={lost}>\n\t\t{ grid.map((row, i) => (\n\t\t\t<FlexRow key={i}>\n        { row.map((color, j) => (<Cell\n          id={answer.join(',') === `${j},${i}` ? 'correct' : null} // QA\n          key={`${i},${j}`}\n          color={color}\n          lost={lost}\n          onClick={(e: any) => { clickPanel(i,j); }}\n        />))}\n\t\t\t</FlexRow>\n\t\t))}\n\t</GridContainer>\n)\n\n","import styled from 'styled-components'\n\nexport const HighScoreContainer = styled.div`\n  position: absolute;\n  width: 22vh;\n  height: 22vh;\n  right: 3vh;\n  bottom: 3vh;\n  border-radius: 50%;\n  background: white;\n`;\n\nexport const TimerContainer = styled.div`\n  position: absolute;\n  width: 16vh;\n  height: 16vh;\n  right: 22vh;\n  bottom: 3vh;\n  border-radius: 50%;\n  background: white;\n`;\n\nexport const Inner = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: black;\n`;\n","import * as React from 'react'\nimport { TimerContainer, HighScoreContainer, Inner } from './styled'\nimport FitText from '@kennethormandy/react-fittext'\n\nexport namespace Hud {\n  export interface Props {\n    score: number;\n    starttime?: number;\n    lost: boolean;\n  }\n}\n\nexport class Hud extends React.Component<Hud.Props> {\n\n  timer: any;\n  componentDidMount() {\n    this.timer = setInterval(() => { if (!this.props.lost) this.forceUpdate() }, 1000)\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer)\n  }\n\n  render() {\n    const { score, starttime } = this.props;\n    const elapsed = starttime ? Math.floor((Date.now() - starttime) / 1000) : 0;\n    return (\n      <React.Fragment>\n        <TimerContainer>\n          <FitText compressor={0.6}>\n            <Inner>{elapsed}s</Inner>\n          </FitText>\n        </TimerContainer>\n        <HighScoreContainer>\n          <FitText compressor={0.6}>\n            <Inner id=\"score\">{ score }pts</Inner>\n          </FitText>\n        </HighScoreContainer>\n      </React.Fragment>\n    )\n  }\n\n}\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { GameActions } from 'app/actions/game';\nimport refreshIcon from './refresh.png'\nimport closeIcon from './erase.png'\n\nconst TrayContainer = styled.div`\n    position: absolute;\n    right: 1vw;\n    top: 1vh;\n    width: 3vw;\n    height: 3vh;\n`;\n\nexport namespace Tray {\n  export interface Props {\n    newGame: typeof GameActions.newGame;\n    goHome: typeof GameActions.goHome;\n  }\n}\n\nconst Tray = ({ newGame, goHome }: Tray.Props) => (\n  <React.Fragment>\n    <TrayContainer>\n    <img\n          src={closeIcon}\n          alt=\"Close\"\n          onClick={(e) => {\n              e.preventDefault();\n              newGame();\n              goHome();\n          }}\n      />\n      <img\n          src={refreshIcon}\n          alt=\"Refresh\"\n          onClick={(e) => {\n              e.preventDefault();\n              newGame();\n          }}\n      />\n    </TrayContainer>\n  </React.Fragment>\n)\n\nexport default Tray;\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport SplitText from 'react-pose-text'\n\nconst HighScoreHeader = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: black;\n  font-weight: bold;\n  font-size: 6vw;\n`;\n\nconst charPoses = {\n  exit: { opacity: 0.8, y: 70 },\n  enter: {\n    opacity: 1,\n    y: 0,\n    delay: ({ charIndex }: any) => charIndex * 30 + Math.random() * 30,\n    transition: {\n      ease: 'backOut',\n      duration: 700,\n      flip: 1000\n    }\n  }\n}\n\nexport const HighScoreBanner = () => (\n  <HighScoreHeader>\n    <SplitText initialPose=\"exit\" pose=\"enter\" charPoses={charPoses}>\n      New high score!!\n    </SplitText>\n  </HighScoreHeader>\n)\n\nexport const HighScoreInput = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 20vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: black;\n  font-size: 3vw;\n`;\n\nexport const Input = styled.input.attrs({\n  type: 'text',\n  size: 3,\n  maxLength: 3,\n  autoFocus: true,\n  placeholder: 'BOB'\n})`\n  background-color: transparent;\n  font-size: 3vw;\n`\n","import * as React from 'react'\nimport { HighScoreActions } from 'app/actions/high-scores'\nimport { HighScoreBanner, HighScoreInput, Input } from './styled'\n\nexport namespace HighScore {\n  export interface Props {\n    score: number;\n    time: number;\n    addHighScore: typeof HighScoreActions.addHighScore;\n  }\n}\n\nconst HighScore = ({score, time, addHighScore}: HighScore.Props) => (\n  <React.Fragment>\n    <HighScoreBanner />\n    <HighScoreInput>\n      <p>Enter your initials:</p>\n      <Input onKeyDown={(e: any) => {\n        if (e.key === 'Enter' && e.target.value) {\n          e.preventDefault();\n          addHighScore(score, time, e.target.value)\n        }\n      }}/>\n    </HighScoreInput>\n  </React.Fragment>\n)\n\nexport default HighScore;\n","import posed from 'react-pose'\nimport styled from 'styled-components'\n\nexport const GameOver = styled(posed.div({\n  enter: {\n      opacity: 1\n  },\n  exit: { opacity: 0 },\n}))`\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: black;\n  font-weight: bold;\n  font-size: 10rem;\n`;\n\nexport default GameOver;\n","import * as React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux'\nimport { ThunkDispatch } from 'redux-thunk'\n\nimport { RootState } from 'app/reducers';\nimport { GameActions } from 'app/actions/game';\nimport { HighScoreActions } from 'app/actions/high-scores';\nimport { GameGrid } from 'app/components/GameGrid';\nimport { Hud } from 'app/components/Hud';\nimport Tray from 'app/components/Tray';\nimport HighScore from 'app/components/HighScore';\nimport GameOver from 'app/components/GameOver';\n\nexport namespace Game {\n  export interface StateProps {\n    score: number,\n    level: number,\n    grid: string[][],\n    answer: number[],\n    lost: boolean,\n    started: boolean,\n    startTime?: number,\n    outcome?: string\n    background: string\n  }\n  export interface DispatchProps {\n    newGame: typeof GameActions.newGame,\n    goHome: typeof GameActions.goHome,\n    clickPanel: typeof GameActions.clickPanel,\n    addHighScore: typeof HighScoreActions.addHighScore\n  }\n  export type Props = StateProps & DispatchProps\n}\n\n@connect(\n  ({ game }: RootState) => ({\n    score: game.score,\n    level: game.level,\n    grid: game.grid,\n    answer: game.answer,\n    lost: game.lost,\n    started: game.started,\n    startTime: game.startTime,\n    outcome: game.outcome,\n    background: game.background\n  }),\n  (dispatch: ThunkDispatch<{}, {}, any>): Game.DispatchProps => bindActionCreators({\n    newGame: GameActions.newGame,\n    goHome: GameActions.goHome,\n    clickPanel: GameActions.clickPanel,\n    addHighScore: HighScoreActions.addHighScore,\n  }, dispatch)\n)\n\nexport class Game extends React.Component<Game.Props> {\n  render() {\n    const { started, grid, answer, clickPanel, lost, score, startTime, newGame, goHome, outcome, addHighScore}  = this.props;\n    if (!started) return null;\n    return (\n      <React.Fragment>\n        <GameGrid grid={grid} answer={answer} clickPanel={clickPanel} lost={lost} key=\"grid\" />\n        <Hud score={score} starttime={startTime} lost={lost} />\n        { outcome === 'DEFEAT' ? <GameOver>You lose!</GameOver> : null }\n        { outcome === 'HIGH_SCORE' ? <HighScore\n          addHighScore={addHighScore}\n          score={score}\n          time={Math.floor((Date.now() - (startTime || 0)) / 1000)}\n        /> : null }\n        <Tray newGame={newGame} goHome={goHome} />\n      </React.Fragment>\n    )\n  }\n  constructor(props: Game.Props) {\n    super(props);\n    if (!props.started) props.newGame();\n  }\n\n}\n","import * as React from 'react'\nimport { GameActions } from 'app/actions/game';\nimport { PALETTES, Theme } from 'app/constants/palette'\n\nconst themes = Object.keys( PALETTES );\n\nexport namespace ThemeSelector {\n  export interface Props {\n    theme: Theme;\n    setBackground: typeof GameActions.setBackground;\n  }\n}\n\nexport const ThemeSelector = ({ theme, setBackground }: ThemeSelector.Props) => (\n\t<React.Fragment>\n    <div style={{marginBottom: '2vh'}}>theme:{ theme }</div>\n    <div style={{width: '100%', display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\n      { PALETTES[theme].map((color: string) => (<div\n        key={color}\n        style={{ width: '5vw', height: '5vw', marginRight: '1vw', float: 'left', background: color }}>\n      </div>))}\n    </div>\n    <div style={{width: '100%', display: 'block', paddingTop: '2vh'}}>\n      <div\n        style={{ float: 'left' }}\n        onClick={(e: any) => {\n          e.preventDefault()\n          const target = themes.indexOf(theme) - 1\n          const targetTheme = themes[\n            (target === -1) ? themes.length - 1: target\n          ] as Theme;\n          setBackground(targetTheme)\n        }}\n      >Previous</div>\n      <div\n        style={{ float: 'right' }}\n        onClick={(e: any) => {\n          e.preventDefault()\n          const target = themes.indexOf(theme) + 1\n          const targetTheme = themes[\n            (target === themes.length ) ? 0: target\n          ] as Theme;\n          console.log(theme, themes)\n          setBackground(targetTheme)\n        }}\n      >Next</div>\n    </div>\n  </React.Fragment>\n)\n","import * as React from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux'\nimport { GameActions } from 'app/actions/game';\nimport { ThemeSelector } from 'app/components/ThemeSelector';\nimport { Container } from 'app/components/Container'\nimport { Theme } from 'app/constants/palette'\n\nexport namespace Settings {\n  export interface Props {\n    theme: Theme,\n    actions: {\n      setBackground: typeof GameActions.setBackground,\n      goHome: typeof GameActions.goHome,\n    }\n  }\n}\n\n@connect(\n  (state) => ({\n    theme: state.game.theme,\n  }),\n  (dispatch: Dispatch): Pick<Settings.Props, 'actions'> => ({\n    actions: bindActionCreators({\n      setBackground: GameActions.setBackground,\n      goHome: GameActions.goHome\n    }, dispatch)\n  })\n)\nexport class Settings extends React.Component<Settings.Props> {\n  render() {\n    const { setBackground, goHome } = this.props.actions;\n    const { theme } = this.props;\n    return (\n      <Container>\n        <h1>Settings</h1>\n        <ThemeSelector theme={theme} setBackground={setBackground} />\n        <div style={{ marginTop: '7vh', textAlign: 'center'}} onClick={e => { goHome() }}>Back</div>\n      </Container>\n    )\n  }\n}\n","export namespace SettingsActions {\n\n  export enum Type {\n    LOAD_SETTINGS = 'LOAD_SETTINGS',\n    TOGGLE_SETTING = 'TOGGLE_SETTING',\n    SET_SETTING = 'SET_SETTING'\n  }\n\n  export const loadSettings = () => ({ type: Type.LOAD_SETTINGS })\n  export const toggleSetting = (setting: string) => ({ type: Type.TOGGLE_SETTING, setting })\n  export const setSetting = (setting: string, value: any) => ({ type: Type.SET_SETTING, setting, value })\n\n}\n","import { Middleware } from 'redux';\n\nexport const logger: Middleware = (store) => (next) => (action) => {\n  if (process.env.NODE_ENV !== 'production') {\n    console.log(action);\n  }\n  return next(action);\n};\n","import * as chroma from 'chroma-js';\n\nconst getRandom = (max: number) => Math.floor(Math.random() * max)\n\nconst generateGrid = (level: number, x: number, y: number, baseColor: string, alternateColor: string) =>\n  Array(level + 1).fill(0).map( (_, idy) =>\n    Array(level + 1).fill(0).map( (_, idx) =>\n      idx === x && idy === y ? alternateColor : baseColor\n    )\n  )\n\nexport const generateLevel = (theme: string[], level: number, previousColor: string) => {\n  if (!previousColor) previousColor = theme[0];\n  const _PALETTE = theme.filter(color => color !== previousColor)\n  const baseColor = _PALETTE[getRandom(_PALETTE.length)];\n  const alternateColor = chroma(baseColor).saturate(3).hex();\n  const answer = [getRandom(level + 1), getRandom(level + 1)]\n  return {\n    answer,\n    baseColor,\n    alternateColor,\n    grid: generateGrid(level, answer[0], answer[1], baseColor, alternateColor)\n  }\n}\n","import { GameModel } from 'app/models/GameModel'\nimport { GameActions } from 'app/actions/game';\nimport { PALETTES } from 'app/constants/palette';\nimport { generateLevel } from './game-helpers'\n\nconst initialState: GameModel = {\n  theme: 'vapor',\n  started: false,\n  lost: false,\n  level: 1,\n  score: 0,\n  background: PALETTES.vapor[0],\n};\n\nexport const gameReducer = (state = initialState, action: any): GameModel => {\n  const PALETTE = PALETTES[state.theme];\n  switch (action.type) {\n    case GameActions.Type.NEW_GAME:\n      return {\n        theme: state.theme,\n        started: true,\n        lost: false,\n        level: 1,\n        score: 0,\n        background: PALETTE[0],\n        startTime: Math.round(new Date().getTime()),\n        ...generateLevel(PALETTE, 1, PALETTE[0])\n      }\n\n    case GameActions.Type.CLICK_PANEL:\n      if (!state.answer || !state.baseColor) return state;\n      if (action.payload.join(',') === state.answer.join(',') && !state.lost) {\n        return {\n          ...state,\n          level: state.level + 1,\n          score: state.score + 1,\n          background: state.alternateColor || 'transparent',\n          ...generateLevel(PALETTE, state.level + 1, state.baseColor)\n        }\n      } else if (state.grid) {\n        return {\n          ...state,\n          grid: state.grid.map(\n            (row, idx) => row.map((c, idy) => {\n              if (action.payload.join(',') === [idy, idx].join(',')) return 'red';\n              if (state.answer && state.answer.join(',') === [idy, idx].join(',')) return c;\n              return 'transparent';\n            })\n          ),\n          lost: true\n        }\n      } else {\n        return state;\n      }\n\n    case GameActions.Type.SET_BACKGROUND:\n      // @ts-ignore\n      const bgColor = PALETTES[action.color][0]\n      return { ...state, theme: action.color, background: bgColor }\n\n    case GameActions.Type.SET_OUTCOME:\n      return { ...state, outcome: action.outcome }\n\n    default:\n      return state\n  }\n}\n","import { SettingsActions } from 'app/actions/settings';\n\nconst initialState = {\n  theme: 'vapor',\n  music: true,\n  effects: true\n}\n\nexport const settingsReducer = (state = initialState, action: any) => {\n  let newSettings;\n  switch (action.type) {\n    case SettingsActions.Type.LOAD_SETTINGS:\n      const ls = localStorage.getItem('settings');\n      if (ls) {\n        try {\n          return JSON.parse(ls)\n        } catch (e) { }\n      }\n      return [];\n\n    case SettingsActions.Type.TOGGLE_SETTING:\n      newSettings = {\n        ...state,\n        // @ts-ignore\n        [action.setting]: !state[action.setting]\n      }\n      localStorage.setItem('settings', JSON.stringify(newSettings))\n      return newSettings;\n\n    case SettingsActions.Type.SET_SETTING:\n      newSettings = {\n        ...state,\n        // @ts-ignore\n        [action.setting]: action.value\n      }\n      localStorage.setItem('settings', JSON.stringify(newSettings))\n      return newSettings;\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport { RootState } from './state';\nimport { highScoreReducer } from './high-score';\nimport { gameReducer } from './game';\nimport { settingsReducer } from './settings';\n\nimport { connectRouter } from 'connected-react-router'\nexport { RootState };\n\n// NOTE: current type definition of Reducer in 'redux-actions' module\n// doesn't go well with redux@4\nexport const rootReducer = (history: any) => combineReducers<RootState>({\n  router: connectRouter(history),\n  highScores: highScoreReducer,\n  game: gameReducer,\n  settings: settingsReducer,\n} as any);\n","import { HighScoreActions } from './high-scores'\n\nconst initialize = (dispatch:any) => {\n  dispatch(HighScoreActions.loadHighScores())\n}\n\nexport default initialize;\n","import { Store, createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk'\nimport { routerMiddleware } from 'connected-react-router'\nimport { logger } from 'app/middleware';\nimport { RootState, rootReducer } from 'app/reducers';\nimport initialize from 'app/actions/initialize';\nimport { createHashHistory } from 'history'\n\nexport const history =  createHashHistory({\n  hashType: 'slash'\n})\n\nexport function configureStore(initialState?: RootState): Store<RootState> {\n  let middleware = applyMiddleware(routerMiddleware(history), thunk, logger);\n\n  if (process.env.NODE_ENV !== 'production') {\n    middleware = composeWithDevTools(middleware);\n  }\n\n  const store = createStore(\n    rootReducer(history) as any,\n    initialState as any,\n    middleware\n  ) as Store<RootState>;\n\n  initialize(store.dispatch);\n\n  if (module.hot) {\n    module.hot.accept('app/reducers', () => {\n      const nextReducer = require('app/reducers');\n      store.replaceReducer(nextReducer);\n    });\n  }\n\n  return store;\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { configureStore, history } from 'app/store';\nimport { ConnectedRouter } from 'connected-react-router'\nimport { App } from './app';\n\n// prepare store\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <App />\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n","import { AnyAction } from 'redux'\nimport { ThunkAction, ThunkDispatch } from 'redux-thunk'\nimport { push } from 'connected-react-router'\nimport { checkScore } from 'app/reducers/high-score';\n\nexport namespace GameActions {\n  export enum Type {\n    NEW_GAME = 'NEW_GAME',\n    CLICK_PANEL = 'CLICK_PANEL',\n    SET_OUTCOME = 'SET_OUTCOME',\n    SET_BACKGROUND = 'SET_BACKGROUND',\n  }\n\n  export const setOutcome = (outcome: string): any => ({\n    type: Type.SET_OUTCOME, outcome\n  })\n\n  export const setBackground = (color: string): any => ({\n    type: Type.SET_BACKGROUND, color\n  })\n\n  export const goHome = (): any => push('/')\n\n  export const newGame = (): ThunkAction<Promise<void>, {}, {}, AnyAction> =>\n    async (dispatch: ThunkDispatch<{}, {}, AnyAction>): Promise<void> => new Promise<void>(\n      (resolve) => {\n        dispatch({ type: Type.NEW_GAME })\n        dispatch(push('/game'))\n      }\n    )\n\n  export const clickPanel = (x: number, y: number): ThunkAction<Promise<void>, {}, {}, AnyAction> =>\n    async (dispatch: ThunkDispatch<{}, {}, AnyAction>, getState: any): Promise<void> => new Promise<void>(\n      (resolve) => {\n        dispatch({ type: Type.CLICK_PANEL, payload: [ y, x ] })\n        const { lost, score, elapsed } = getState().game\n        if (lost) {\n          setTimeout(() => {\n            const outcome = checkScore(getState().highScores, score, elapsed) ? 'HIGH_SCORE' : 'DEFEAT'\n            dispatch({ type: Type.SET_OUTCOME, outcome })\n          }, 1000)\n        }\n      }\n    )\n}\n\nexport type GameActions = Omit<typeof GameActions, 'Type'>\n\n\n\n\n\n"],"sourceRoot":""}